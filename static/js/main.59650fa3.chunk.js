(this["webpackJsonpcost-metru.github.io"]=this["webpackJsonpcost-metru.github.io"]||[]).push([[0],{11:function(e,a,t){e.exports=t(21)},16:function(e,a,t){},20:function(e,a,t){},21:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),i=t(8),r=t.n(i),s=(t(16),t(6)),o=t(2),u=t(3),p=t(1),c=t(5),h=t(4),v=t(9),d=(t(20),function(e){Object(c.a)(t,e);var a=Object(h.a)(t);function t(e){var l;return Object(o.a)(this,t),(l=a.call(this,e)).state={value:e.value,props:e.items},l.handleChange=l.handleChange.bind(Object(p.a)(l)),l}return Object(u.a)(t,[{key:"handleChange",value:function(e){""!==this.props.value?this.props.changeOption(this.props.level+1,this.props.value):this.props.changeOption(this.props.level+1,e.target.value),this.setState({value:e.target.value})}},{key:"render",value:function(){return n.a.createElement("select",{onChange:this.handleChange,value:this.state.value,hidden:"1"===this.props.hidden&&"hidden"},n.a.createElement("option",{value:"",hidden:"hidden"},"Alege ceva"),this.props.items.map((function(e,a){return n.a.createElement(m,{item:e,item_id:a,key:a})})))}}],[{key:"getDerivedStateFromProps",value:function(e,a){return e.items!==a.props?{value:e.value,props:e.items}:{}}}]),t}(l.Component)),m=function(e){Object(c.a)(t,e);var a=Object(h.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement("option",{value:this.props.item_id},this.props.item.name)}}]),t}(l.Component),b=d,g=function(e){Object(c.a)(t,e);var a=Object(h.a)(t);function t(e){var l;return Object(o.a)(this,t),(l=a.call(this,e)).handleChange=l.handleChange.bind(Object(p.a)(l)),l.state={value:l.props.value},l}return Object(u.a)(t,[{key:"handleChange",value:function(e){this.props.changeValue(e.target.value)}},{key:"render",value:function(){var e=this.props.value;return n.a.createElement("input",{type:"number",value:e,onChange:this.handleChange})}}]),t}(l.Component),y=function(e){Object(c.a)(t,e);var a=Object(h.a)(t);function t(e){var l;Object(o.a)(this,t);var n=0;return(l=a.call(this,e)).props.data.hasOwnProperty("value")&&(n=l.props.data.value),!l.props.data.hasOwnProperty("data")&&l.props.data.hasOwnProperty("default")&&"locality"===!l.props.data.default&&(n=l.props.data.values[l.props.globalVariables.locality]),l.state={display_level:0,globalVariables:l.props.globalVariables,option_keys:[0,0,0,0,0,0,0,0],value:n,updateCheck:!0},l.changeOption=l.changeOption.bind(Object(p.a)(l)),l.changeValue=l.changeValue.bind(Object(p.a)(l)),l.handleChange=l.handleChange.bind(Object(p.a)(l)),l}return Object(u.a)(t,[{key:"changeValue",value:function(e){this.setState({value:e},(function(){}))}},{key:"handleChange",value:function(e){if(this.props.data.hasOwnProperty("global")&&1===this.props.data.global){var a=this.props.data,t=this.state.option_keys.map((function(e,t){return a.hasOwnProperty("data")&&null!==e&&(a=a.data[e]).hasOwnProperty("id")?a.id:null}));this.props.changeSelection(t)}}},{key:"changeOption",value:function(e,a){var t=this;this.setState((function(l){var n,i,r=e,s=t.props.data;for(i=0;i<=r-2;i++)s.hasOwnProperty("data")&&(s=s.data[t.state.option_keys[i]]);return s.hasOwnProperty("data")?s=s.data[a]:console.log("ERROR!"),s.hasOwnProperty("value")&&(n=s.value),t.changeValue(n),{display_level:r,option_keys:l.option_keys.map((function(t,l){return l===e-1?a:l<e-1?t:null}))}}),(function(){t.handleChange()}))}},{key:"componentDidUpdate",value:function(){this.props.expectedValue!==this.state.value&&this.props.outputValue(this.state.value,this.props.data.name,this.props.selection_id),this.state.value_exp!==this.state.value&&!0===this.state.updateCheck&&(this.changeValue(this.state.value_exp),this.setState({updateCheck:!1}))}},{key:"render",value:function(){var e,a=[null],t=this.props.data;for(e=0;e<=this.state.display_level;e++)if(t.hasOwnProperty("data")){var l=0,i=this.props.auto_values;t.hasOwnProperty("type")&&"hidden"===t.type&&(l="1"),a[e]=n.a.createElement(b,{hidden:l,value:i,items:t.data,changeOption:this.changeOption,level:e,globalVariables:this.props.globalVariables,key:e}),t=t.data[this.state.option_keys[e]]}return n.a.createElement("div",null,n.a.createElement("h2",null,this.props.data.name),a,n.a.createElement(g,{value:this.state.value,changeValue:this.changeValue}))}}],[{key:"getDerivedStateFromProps",value:function(e,a){var t=a.value,l=!1;if(e.globalVariables!==a.globalVariables){if(e.data.hasOwnProperty("values")&&e.data.hasOwnProperty("default")){if("locality"===e.data.default&&void 0!==e.globalVariables.locality){var n=e.globalVariables.locality,i=0;for(var r in e.data.values)e.data.values[r].name===n&&(i=r);t=e.data.values[i].value}if(e.data.hasOwnProperty("multipliers")&&e.data.hasOwnProperty("default_multiplier")&&"residence_type"===e.data.default_multiplier&&void 0!==e.globalVariables.residence_type){var s=e.globalVariables.residence_type,o=0;for(var u in e.data.multipliers)e.data.multipliers[u].type===s&&(o=u);t*=e.data.multipliers[o].value}}t!==a.value&&(l=!0)}return{value_exp:t,globalVariables:e.globalVariables,updateCheck:l}}}]),t}(l.Component),O=function(e){Object(c.a)(t,e);var a=Object(h.a)(t);function t(e){var l;Object(o.a)(this,t),(l=a.call(this,e)).changeSelection=l.changeSelection.bind(Object(p.a)(l)),l.outputValue=l.outputValue.bind(Object(p.a)(l));var n={value:null,name:null};return l.state={values:[n,n,n,n,n,n,n,n,n]},l}return Object(u.a)(t,[{key:"changeSelection",value:function(e){this.props.setGlobalVariables({name:this.props.category.name,selection:e})}},{key:"outputValue",value:function(e,a,t){var l=this,n=this.props.category.costs.map((function(n,i){return t===i?{value:e,name:a}:l.state.values[i]}));this.setState({values:n}),this.props.setOutputValues(n,this.props.category.name,this.props.category_id)}},{key:"render",value:function(){var e,a=this;return e=this.props.category.costs.map((function(e,t){return n.a.createElement(y,{expectedValue:a.state.values[t].value,globalVariables:a.props.globalVariables,auto_values:"",data:e,selection_id:t,key:t,changeSelection:a.changeSelection,outputValue:a.outputValue})})),n.a.createElement("div",null,n.a.createElement("h1",null,this.props.category.name),e)}}]),t}(l.Component),f="Camin",V="Garsoniera",C="Apartament cu 2 camere",_="COM",k="AP1",j="AP2",w=[{name:"Cazare",costs:[{name:"Chirie",data:[{name:"Bucuresti",id:"RO_BUC",data:[{name:f,id:_,data:[{name:"Complex A",value:50},{name:"Complex B",value:100},{name:"Complex C",value:150}],value:70},{name:V,id:k,data:[{name:"Zona 1",value:1e3},{name:"Zona 2",value:1500},{name:"Zona 3",value:2e3}],value:500},{id:j,name:C,value:5e3}],value:1e3},{name:"Brasov",id:"RO_BV",data:[{name:f,id:_,value:70},{name:V,id:k,value:700}]},{name:"Cluj",id:"RO_CJ",data:[{name:f,id:_,value:70},{name:V,id:k,value:700},{name:C,id:j,value:7e3}]}],global:1}]},{name:"Utilitati",costs:[{name:"Utilitati",type:"hidden",default:"locality",values:[{name:"RO_BUC",value:230},{name:"RO_BV",value:200},{name:"RO_CJ",value:260}],default_multiplier:"residence_type",multipliers:[{type:"COM",value:0},{type:"AP1",value:1},{type:"AP2",value:1.5}]}]}],E=function(e){Object(c.a)(t,e);var a=Object(h.a)(t);function t(e){var l;Object(o.a)(this,t);var n={value:null,name:null},i={values:[n,n,n,n,n,n,n,n,n],name:null};return(l=a.call(this,e)).state={globalVariables:{locality:"",residence_type:""},values_arr:[i,i,i,i,i,i,i,i,i,i,i,i,i,i]},l.getGlobalVariables=l.getGlobalVariables.bind(Object(p.a)(l)),l.getOutputValues=l.getOutputValues.bind(Object(p.a)(l)),l}return Object(u.a)(t,[{key:"getGlobalVariables",value:function(e){var a,t;"Cazare"===e.name&&(void 0!==e.selection[0]&&(a=e.selection[0]),void 0!==e.selection[1]&&(t=e.selection[1])),this.setState({globalVariables:{locality:a,residence_type:t}})}},{key:"getOutputValues",value:function(e,a,t){var l=this,n=w.map((function(n,i){return t===i?{values:e,name:a}:l.state.values_arr[i]}));this.setState({values_arr:n})}},{key:"render",value:function(){var e,a=this;console.log(this.state),e=w.map((function(e,t){return n.a.createElement(O,{globalVariables:a.state.globalVariables,category_id:t,category:e,key:t,setGlobalVariables:a.getGlobalVariables,setOutputValues:a.getOutputValues})}));var t,l,i=[null],r=0,o=[["From","To","Weight"]],u=Object(s.a)(this.state.values_arr);try{for(u.s();!(t=u.n()).done;){var p,c=t.value,h=Object(s.a)(c.values);try{for(h.s();!(p=h.n()).done;){var d=p.value;null!==d.name&&(i[r]=n.a.createElement("div",{key:r},n.a.createElement("h3",null,d.name,":",d.value),"\n"),o[r+1]=["Banet",d.name,parseInt(d.value,10)],r++)}}catch(m){h.e(m)}finally{h.f()}}}catch(m){u.e(m)}finally{u.f()}return r>=1&&(l=n.a.createElement(v.a,{width:600,height:"300px",chartType:"Sankey",loader:n.a.createElement("div",null,"Loading Chart"),data:o,rootProps:{"data-testid":"1"}})),n.a.createElement("div",{className:"App"},l,e)}}]),t}(l.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.59650fa3.chunk.js.map